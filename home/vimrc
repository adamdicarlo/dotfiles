set autoindent
set encoding=utf-8
set expandtab
set history=300     " Number of commands to remember
set incsearch
set ignorecase      " Ignore case when searching
set smartcase       " Only ignore case when all lowercase
set linebreak       " Break lines when appropriate
set mouse=a
set number          " Show line numbers
set nocompatible    " Allow vim-only settings even if they break vi keybindings.
set scrolloff=2
set shiftwidth=2
set showcmd
set smartindent
set smarttab
set tabstop=2
colorscheme desert
syntax on

set runtimepath+=$HOME/.vim/syntastic
set runtimepath+=$HOME/.vim/phpcomplete

let php_sql_query = 1
let php_parent_error_close = 1
" let php_folding = 1

let g:debuggerMaxDepth = 5
let g:debuggerMiniBufExpl = 1

if has("autocmd")
  " Drupal's PHP file extensions
  augroup module
    autocmd BufRead,BufNewFile *.engine set filetype=php
    autocmd BufRead,BufNewFile *.inc set filetype=php
    autocmd BufRead,BufNewFile *.install set filetype=php
    autocmd BufRead,BufNewFile *.module set filetype=php
    autocmd BufRead,BufNewFile *.profile set filetype=php
    autocmd BufRead,BufNewFile *.test set filetype=php
  augroup END
endif

" When in split screen, map <C-LeftArrow> and <C-RightArrow> to switch panes.
nn [1;5D <C-W>w
nn [1;5C <C-W>W

" Bubble single lines
nmap <C-Up> ddhP
nmap <C-Down> ddp
" Bubble multiple lines
vmap <C-Up> xkP`[V`]
vmap <C-Down> xp`[V`]

" Switch movement keys for Colemak so they're not super confusing.
set langmap=hk,jh,kj

" Useful trick when I've forgotten to sudo before editing a file.
" Source: https://github.com/cypher/dotfiles/blob/master/vimrc
cmap w!! w !sudo tee % >/dev/null

" PHP dictionary for autocompletion
set dict +=~/.vim/dictionaries/PHP.dict
set dict +=~/.vim/dictionaries/drupal6.dict

" Drupal 6 omni-completion: http://github.com/agileadam/drupal6complete
" imap <buffer> <C-d> <C-\><C-O>:call drupal6complete#Map()<CR><C-X><C-O>
" let g:drupal6complete_add_paren = 1

" Highlight redundant whitespaces and tabs.
highlight RedundantSpaces ctermbg=red guibg=red
match RedundantSpaces /\s\+$\| \+\ze\t\|\t/

" Highlight chars that go over the 80-column limit
":highlight OverLength ctermbg=red ctermfg=white guibg=red guifg=white
":match OverLength '\%81v.*'
